<ion-view view-title="My Shifts" class="myShifts">
  <ion-content class="padding">

    <h3>Shifts you posted:</h3>

    <!-- PENDING = someone has offered to take shift, 
    original poster needs to make decision -->
    
    <ion-list class="mslist">
      <ion-item ng-repeat="shift in data.postedpending" class="item-text-wrap msitem" >
        <div class="row responsive-sm">
          <div class="col col-67">
            <h2>{{shift.home_store.address}}<br/>
            {{shift.shift_text_time}}<br/>
            Prize: {{shift.prize}}</h2>
          </div>
          <div class="col col-33">
            <h2>Status: PENDING</h2>

            <ion-list class="claimlist">
              <ion-item ng-repeat="claimant in shift.claimants" class="claimitem">
                <button ng-click="connect(claimant)">Requested by: {{claimant.claimant_name}}</button>
              </ion-item>
            </ion-list>

          </div>
        </div>
      </ion-item>
    </ion-list>

    <!-- UNCLAIMED = no one has offered to take shift, 
    original poster can delete or edit -->
    <ion-list class="mslist">
      <ion-item ng-repeat="shift in data.postedunclaimed" class="item-text-wrap msitem">
        <div class="row responsive-sm">
          <div class="col col-67">
            <h2>{{shift.home_store.address}}<br/>
            {{shift.shift_text_time}}<br/>
            Prize: {{shift.prize}}</h2>
          </div>
          <div class="col col-33">
            <h2>Status: UNCLAIMED</h2>
            <button ng-click="delete(shift)">Delete</button>
          </div>
        </div>
      </ion-item>
    </ion-list>

    <!-- APPROVED = someone has offered to take shift, 
    original poster has accepted, agreement is in place -->
    <ion-list class="mslist">
      <ion-item ng-repeat="shift in data.postedapproved" class="item-text-wrap msitem">
        <div class="row responsive-sm">
          <div class="col col-67">
            <h2>{{shift.home_store.address}}<br/>
            {{shift.shift_text_time}}<br/>
            Prize: {{shift.prize}}</h2>
          </div>
          <div class="col col-33">
            <h2>Status: APPROVED</h2>
            <button ng-click="connectAfter(shift)"> Taken by {{shift.covered_by_name}} </button><br/><br/>
          </div>
        </div>
      </ion-item>
    </ion-list>

    <h3>Shifts you picked up:</h3>

    <!-- PENDING = you offered to take this shift,
    and you're waiting to hear back from poster -->
    <ion-list class="mslist">
      <ion-item ng-repeat="shift in data.pickedpending" class="item-text-wrap msitem">
        <div class="row responsive-sm">
          <div class="col col-67">
            <h2>{{shift.shift_where}}<br/>
            {{shift.shift_when}}<br/>
            Posted by: {{shift.shift_owner_name}}<br/>
            Prize: {{shift.shift_prize}}</h2>
          </div>
          <div class="col col-33">
            <h2>Status: PENDING</h2>
          </div>
        </div>
      </ion-item>
    </ion-list>

    <!-- APPROVED = you offered to take this shift,
    poster approved, you are now working this shift -->
    <ion-list class="mslist">
      <ion-item ng-repeat="shift in data.pickedapproved" class="item-text-wrap msitem">
        <div class="row responsive-sm">
          <div class="col col-67">
            <h2>{{shift.shift_where}}<br/>
            {{shift.shift_when}}<br/>
            Posted by: {{shift.shift_owner_name}}<br/>
            Prize: {{shift.shift_prize}}</h2>
          </div>
          <div class="col col-33">
            <h2>Status: APPROVED</h2>
          </div>
          </div>
      </ion-item>
    </ion-list>

    <!-- REJECTED = you offered to take this shift,
    poster rejected your offer -->
    <ion-list class="mslist">
      <ion-item ng-repeat="shift in data.pickedrejected" class="item-text-wrap msitem">
        <div class="row responsive-sm">
          <div class="col col-67">
            <h2>{{shift.shift_where}}<br/>
            {{shift.shift_when}}<br/>
            Posted by: {{shift.shift_owner_name}}<br/>
            Prize: {{shift.shift_prize}}</h2>
          </div>
          <div class="col col-33">
            <h2>Status: REJECTED</h2>
          </div>
        </div>
      </ion-item>
    </ion-list> 
      
  </ion-content>
</ion-view>