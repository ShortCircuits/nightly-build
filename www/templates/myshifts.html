<ion-view view-title="My Shifts" class="myShifts">
  <ion-content class="padding">

    <h3>Shifts you posted:</h3>

    <!-- PENDING = someone has offered to take shift, 
    original poster needs to make decision -->
    
    <ion-list class="mslist">
      <ion-item ng-repeat="shift in data.postedpending" class="item-text-wrap msitem" >
        <div class="row responsive-md">
          <div class="col col-20">
            <p><b>Status:</b> PENDING</p>

            <ion-list class="claimlist">
            <p class="subs">Requested by:</p> 
              <ion-item ng-repeat="claimant in shift.claimants" class="claimitem">
                <md-button ng-click="connect(claimant)" class="button pums md-raised">{{claimant.claimant_name}}</md-button>
              </ion-item>
            </ion-list>
          </div>

          <div class="col col-33">
            <p>{{shift.home_store.address}}<p/>
            <p>{{shift.shift_text_time}}<p/>
            <p>Prize: {{shift.prize}}</p>
          </div>
        </div>
      </ion-item>
    </ion-list>

    <!-- UNCLAIMED = no one has offered to take shift, 
    original poster can delete or edit -->
    <ion-list class="mslist">
      <ion-item ng-repeat="shift in data.postedunclaimed" class="item-text-wrap msitem">
        <div class="row responsive-md">
          <div class="col col-20">
            <p class="statusovski"><b>Status:</b> UNCLAIMED</p>
            <md-button ng-click="delete(shift)" class="button pums md-raised">Delete</md-button>
          </div>
          <div class="col col-33">
            <p>{{shift.home_store.address}}<p/>
            <p>{{shift.shift_text_time}}<p/>
            <p>Prize: {{shift.prize}}</p>
          </div>
        </div>
      </ion-item>
    </ion-list>

    <!-- APPROVED = someone has offered to take shift, 
    original poster has accepted, agreement is in place -->
    <ion-list class="mslist">
      <ion-item ng-repeat="shift in data.postedapproved" class="item-text-wrap msitem">
        <div class="row responsive-md">
          <div class="col col-20">
            <p class="statusovski"><b>Status:</b> APPROVED</p>
            <p class="subs">Taken by:</p>
            <button ng-click="connectAfter(shift)" class="button pums"> {{shift.covered_by_name}} </button>
          </div>
          <div class="col col-33">
            <p>{{shift.home_store.address}}<p/>
            <p>{{shift.shift_text_time}}<p/>
            <p>Prize: {{shift.prize}}</p>
          </div>
        </div>
      </ion-item>
    </ion-list>

    <h3>Shifts you picked up:</h3>

    <!-- PENDING = you offered to take this shift,
    and you're waiting to hear back from poster -->
    <ion-list class="mslist">
      <ion-item ng-repeat="shift in data.pickedpending" class="item-text-wrap msitem">
        <div class="row responsive-md">
          <div class="col col-20">
            <p class="statusovski"><b>Status:</b> PENDING</p>
          </div>
          <div class="col col-33">
            <p>{{shift.shift_where}}<p/>
            <p>{{shift.shift_when}}<p/>
            <p>Posted by: {{shift.shift_owner_name}}<p/>
            <p>Prize: {{shift.shift_prize}}</p>
          </div>
        </div>
      </ion-item>
    </ion-list>

    <!-- APPROVED = you offered to take this shift,
    poster approved, you are now working this shift -->
    <ion-list class="mslist">
      <ion-item ng-repeat="shift in data.pickedapproved" class="item-text-wrap msitem">
        <div class="row responsive-md">
          <div class="col col-20">
            <p class="statusovski"><b>Status:</b> APPROVED</p>
          </div>
          <div class="col col-33">
            <p>{{shift.shift_where}}<p/>
            <p>{{shift.shift_when}}<p/>
            <p>Posted by: {{shift.shift_owner_name}}<p/>
            <p>Prize: {{shift.shift_prize}}</p>
          </div>
          </div>
      </ion-item>
    </ion-list>

    <!-- REJECTED = you offered to take this shift,
    poster rejected your offer -->
    <ion-list class="mslist">
      <ion-item ng-repeat="shift in data.pickedrejected" class="item-text-wrap msitem">
        <div class="row responsive-md">
          <div class="col col-20">
            <p class="statusovski"><b>Status:</b> REJECTED</p>
          </div>
          <div class="col col-33">
            <p>{{shift.shift_where}}<p/>
            <p>{{shift.shift_when}}<p/>
            <p>Posted by: {{shift.shift_owner_name}}<p/>
            <p>Prize: {{shift.shift_prize}}</p>
          </div>
        </div>
      </ion-item>
    </ion-list> 
      
  </ion-content>
</ion-view>